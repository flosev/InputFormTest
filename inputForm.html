<!DOCTYPE html>
<html lang="en">
<head>

    <title>Login</title>
    <link href="https://www.getdrip.com/favicon.ico?v=2" rel="shortcut icon" type="image/vnd.microsoft.icon" />
    <link href="https://www.getdrip.com/assets/octicons-a7ec80ddb769b6b5579bc39b5bcb4c9d.css" media="all" rel="stylesheet" type="text/css" />
    <link href="https://www.getdrip.com/assets/external-9fca268cd7b3b710bed05bcbd2856ae9.css" media="all" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="//use.typekit.net/dfq0yht.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

</head>

<body class="external signin no-contents fixed-width ">
<div class="header">
    <div class="menu-container">
        <div class="container">
            <a href="/" class="logo">Drip</a>
        </div>
    </div>

    <div class="splash">
        <div class="container">
            <!--<h1>Welcome Back!</h1>-->

            <div class="signin-container">
                <div class="heading">
                    <h2>Sign In to Your Drip Account</h2>
                </div>
                <form accept-charset="UTF-8" name="urlForm" id="urlForm" action="" method="post">

                    <dl class="form full">
                        <dt><label for="url">URL</label></dt>
                        <dd><input id="url" name="url" placeholder="http://www.example.com" type="text" /></dd>
                    </dl>
                </form>
                <div class="call-to-signup">
                    <p id="log">Log</p>
                </div>
            </div>

        </div>
    </div>
</div>

<script type="text/javascript">

    var caseCount = 0;
    document.forms['urlForm'].onsubmit = function(){
        var wholeUrl = document.getElementById("url").value;
        var re = /^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,5}[\.]{0,1}/;
        if (re.test(wholeUrl)) {
            var cutHttp = wholeUrl.replace(/(?:((?:\/\/)|^)http[s]?:\/\/)(?=[^/]*?\.)/i, "$1");
            var cutWww = cutHttp.replace(/(?:((?:\/\/)|^)www\.)(?=[^/]*?\.)/i, "$1");
            var cutRight = cutWww.split("/")[0];
            createLogElement(cutRight);
            document.getElementById("url").value = '';
}       return false;
    };

    //create new log - element
    function createLogElement(inputUrl) {
        var elem = document.getElementById("log");
        var newLogString = document.createElement("p");
        newLogString.innerHTML = inputUrl;
        insertAfter(elem, newLogString);
        newLogString.id = 'log' + caseCount;
        caseCount++;
    }

    function insertAfter(referenceNode, newNode) {
        referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);
    }

</script>
</body>
</html>
